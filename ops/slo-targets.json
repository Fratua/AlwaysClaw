{
  "$schema": "../schema/slo-targets.schema.json",
  "version": "1.0.0",
  "generatedFrom": "OPENCLAW_WIN10_GPT52_MASTERPLAN.md sections 20, 35",
  "generatedAt": "2026-02-06T00:00:00Z",
  "slos": [
    {
      "sloId": "command-success-rate",
      "displayName": "Command Success Rate",
      "description": "Percentage of tier-0 and tier-1 tool commands that complete successfully without error or timeout.",
      "metric": "command_success_total / command_attempt_total",
      "target": 0.99,
      "unit": "ratio",
      "window": "30d",
      "windowType": "rolling",
      "scope": [
        "tier-0-tools",
        "tier-1-tools"
      ],
      "measurement": {
        "numerator": "count of commands with status=success",
        "denominator": "count of all command attempts (excluding cancelled-by-user)",
        "excludes": [
          "cancelled-by-user",
          "approval-timeout"
        ]
      },
      "burnRate": {
        "thresholds": [
          {
            "windowHours": 1,
            "maxBurnRate": 14.4,
            "severity": "P1",
            "action": "page-on-call-immediately"
          },
          {
            "windowHours": 6,
            "maxBurnRate": 6,
            "severity": "P2",
            "action": "alert-and-investigate"
          },
          {
            "windowHours": 24,
            "maxBurnRate": 3,
            "severity": "P3",
            "action": "create-investigation-ticket"
          }
        ],
        "calculation": "burn_rate = (error_rate_in_window / (1 - target)) where target = 0.990"
      },
      "alertChannels": [
        "incident-event-bus",
        "gmail-notification",
        "dashboard"
      ]
    },
    {
      "sloId": "median-loop-latency",
      "displayName": "Median Loop Latency",
      "description": "p50 latency for standard task loops must remain under 30 seconds over a 24-hour rolling window.",
      "metric": "loop_duration_seconds_p50",
      "target": 30,
      "unit": "seconds",
      "percentile": "p50",
      "window": "24h",
      "windowType": "rolling",
      "scope": [
        "standard-task-loops"
      ],
      "excludedLoops": [
        "ralph-loop",
        "planning-loop",
        "meta-cognition-loop",
        "chaos-drill-loop",
        "dr-restore-validation"
      ],
      "measurement": {
        "source": "loop_execution_duration histogram",
        "aggregation": "p50 across all qualifying loop runs in window"
      },
      "breachPolicy": {
        "severity": "P3",
        "action": "trigger-latency-regression-scan",
        "escalateAfterHours": 4,
        "escalationSeverity": "P2"
      },
      "alertChannels": [
        "incident-event-bus",
        "dashboard"
      ]
    },
    {
      "sloId": "cron-execution-reliability",
      "displayName": "Cron Execution Reliability",
      "description": "Percentage of scheduled cron jobs that execute within their scheduled window without failure.",
      "metric": "cron_jobs_succeeded / cron_jobs_scheduled",
      "target": 0.995,
      "unit": "ratio",
      "window": "7d",
      "windowType": "rolling",
      "scope": [
        "all-scheduled-cron-jobs"
      ],
      "measurement": {
        "numerator": "count of cron jobs that started and completed within scheduled window",
        "denominator": "count of all cron jobs that were due to execute",
        "excludes": [
          "manually-disabled-jobs"
        ]
      },
      "burnRate": {
        "thresholds": [
          {
            "windowHours": 1,
            "maxBurnRate": 14.4,
            "severity": "P1",
            "action": "page-on-call-immediately"
          },
          {
            "windowHours": 6,
            "maxBurnRate": 6,
            "severity": "P2",
            "action": "alert-and-investigate"
          },
          {
            "windowHours": 24,
            "maxBurnRate": 3,
            "severity": "P3",
            "action": "create-investigation-ticket"
          }
        ],
        "calculation": "burn_rate = (miss_rate_in_window / (1 - target)) where target = 0.995"
      },
      "alertChannels": [
        "incident-event-bus",
        "gmail-notification",
        "dashboard"
      ]
    },
    {
      "sloId": "mean-time-to-recovery",
      "displayName": "Mean Time To Recovery (MTTR)",
      "description": "Average time from single-process failure detection to full service restoration must not exceed 300 seconds (5 minutes).",
      "metric": "mean(recovery_time_seconds)",
      "target": 300,
      "unit": "seconds",
      "window": "30d",
      "windowType": "rolling",
      "scope": [
        "single-process-failures"
      ],
      "measurement": {
        "start": "timestamp of failure detection by health probe or watchdog",
        "end": "timestamp of first successful health check after recovery",
        "aggregation": "arithmetic mean of all recovery events in window"
      },
      "breachPolicy": {
        "severity": "P2",
        "action": "trigger-incident-review",
        "requirePostmortem": true
      },
      "alertChannels": [
        "incident-event-bus",
        "gmail-notification",
        "dashboard"
      ]
    }
  ],
  "errorBudgetPolicy": {
    "description": "Governs behavior when error budget is consumed or approaching exhaustion.",
    "budgetCalculation": {
      "formula": "error_budget_remaining = 1 - (observed_error_rate / allowed_error_rate)",
      "example": "For command-success-rate: allowed_error_rate = 1 - 0.990 = 0.01. If observed_error_rate = 0.008, budget_remaining = 1 - (0.008/0.01) = 0.20 (20%)"
    },
    "warningThreshold": 0.25,
    "onBudgetWarning": {
      "trigger": "error_budget_remaining <= 0.25 (25% remaining)",
      "actions": [
        "Freeze non-critical deployments and configuration changes",
        "Disable tier-B (advanced autonomy) loops",
        "Increase monitoring frequency: latency and error checks from hourly to every 15 minutes",
        "Send budget warning notification to operator via Gmail and dashboard",
        "Activate conservative thinking-level policy (cap at high, disable xhigh for non-critical loops)",
        "Log budget warning event with current burn rates and projected exhaustion time"
      ]
    },
    "onBudgetExhausted": {
      "trigger": "error_budget_remaining <= 0.0 (fully exhausted)",
      "actions": [
        "Immediately halt all self-driven, self-updating, and self-upgrading loops",
        "Disable all tier-2 tool execution",
        "Enter degraded mode with read-only + communications preservation",
        "Emit P1 incident event requiring human acknowledgment",
        "Block all configuration changes until budget recovers above warning threshold",
        "Generate and send incident summary with root cause candidates to operator",
        "Require explicit operator approval before re-enabling any frozen capability"
      ]
    },
    "budgetRecoveryPolicy": {
      "minRecoveryThreshold": 0.5,
      "description": "Frozen capabilities remain locked until budget recovers to at least 50% remaining. Operator must explicitly approve re-enablement.",
      "reEnablementOrder": [
        "tier-B monitoring loops",
        "self-learning loops (safe tier)",
        "self-driven loops (moderate tier, approval-gated)",
        "self-updating loops (high tier, approval-required)",
        "self-upgrading loops (high tier, approval-required)"
      ]
    }
  },
  "dashboardRequirements": {
    "panels": [
      {
        "panelId": "slo-overview",
        "description": "Real-time SLO status with burn rate indicators and budget remaining gauges."
      },
      {
        "panelId": "error-budget-tracker",
        "description": "Rolling error budget consumption graph per SLO with warning/exhaustion thresholds marked."
      },
      {
        "panelId": "loop-latency-heatmap",
        "description": "Heatmap of loop execution latencies by loop type over trailing 24h."
      },
      {
        "panelId": "cron-reliability-timeline",
        "description": "Timeline showing scheduled vs actual cron executions with miss markers."
      },
      {
        "panelId": "recovery-events",
        "description": "Table of recent recovery events with duration, component, and root cause tags."
      }
    ]
  }
}